#!/usr/bin/env ruby -w
# encoding: utf-8

require 'metropole'

Dir.glob('**/*.rb').each do |path|
  file = Metropole::RubyFile.new(path)

  FileUtils.mkdir_p File.dirname(file.html_path)
  File.open(file.html_path, 'w:utf-8') do |f|
    f.puts file.path
    f.puts "#{file.lines}\t#{file.lines_of_code}\t#{file.methods}\t#{file.complexity}\t\t#{file.duplication}"
  end
end
